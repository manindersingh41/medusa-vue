{"version":3,"file":"pages/blog/masonry.js","sources":["webpack:///./repositories/PostRepository.js","webpack:///./components/elements/commons/PostLatset.vue","webpack:///PostLatset.vue","webpack:///./components/elements/commons/PostLatset.vue?7433","webpack:///./components/elements/commons/PostLatset.vue?7009","webpack:///./pages/blog/masonry.vue","webpack:///masonry.vue","webpack:///./pages/blog/masonry.vue?182c","webpack:///./pages/blog/masonry.vue?4583"],"sourcesContent":["import Repository, { baseUrl, serializeQuery } from './Repository';\n\nexport async function getPosts(payload) {\n    let endPoint = `posts`;\n    if (payload) {\n        endPoint = endPoint + `?${serializeQuery(payload)}`;\n    }\n    const reponse = await Repository.get(`${baseUrl}/${endPoint}`)\n        .then(response => {\n            return response.data;\n        })\n        .catch(error => {\n            console.log(JSON.stringify(error));\n            return null;\n        });\n    return reponse;\n}\n\nexport async function getPostById(id) {\n    const reponse = await Repository.get(\n        `${baseUrl}/posts/${id}`\n    )\n        .then(response => {\n            return response.data;\n        })\n        .catch(error => ({ error: JSON.stringify(error) }));\n    return reponse;\n}\n\nexport async function getPostCategory(payload) {\n    let endPoint = `post-categories`;\n    if (payload) {\n        endPoint = endPoint + `?${serializeQuery(payload)}`;\n    }\n    const reponse = await Repository.get(`${baseUrl}/${endPoint}`)\n        .then(response => {\n            return response.data;\n        })\n        .catch(error => {\n            console.log(JSON.stringify(error));\n            return null;\n        });\n    return reponse;\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.item)?_c('div',{staticClass:\"ps-blog--latset\"},[_vm._ssrNode(\"<div class=\\\"ps-blog__thumbnail\\\">\",\"</div>\",[(_vm.item.thumbnail)?_c('nuxt-link',{attrs:{\"to\":`/blog/post-detail-1/${_vm.item.id}`}},[_c('img',{attrs:{\"src\":_vm.baseDomain + _vm.item.thumbnail.url,\"alt\":\"alt\"}})]):_vm._e(),_vm._ssrNode(\" <div class=\\\"ps-blog__badge\\\">\"+(_vm._ssrList((_vm.item.post_categories),function(val){return (\"<span class=\\\"ps-badge__item\\\">\"+_vm._ssrEscape(_vm._s(val.name))+\"</span>\")}))+\"</div>\")],2),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"ps-blog__content\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"ps-blog__meta\\\"><span class=\\\"ps-blog__date\\\">\"+_vm._ssrEscape(_vm._s(_vm.createdAt))+\"</span><a href=\\\"#\\\" class=\\\"ps-blog__author\\\">Alfredo Austin</a></div> \"),_c('nuxt-link',{staticClass:\"ps-blog__title\",attrs:{\"to\":`/blog/post-detail-1/${_vm.item.id}`}},[_vm._v(_vm._s(_vm.item.name))]),_vm._ssrNode(\" \"+((_vm.item.short_description)?(\"<p class=\\\"ps-blog__desc\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.short_description))+\"</p>\"):\"<!---->\"))],2)],2):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"ps-blog--latset\" v-if=\"item\">\n        <div class=\"ps-blog__thumbnail\">\n            <nuxt-link :to=\"`/blog/post-detail-1/${item.id}`\" v-if=\"item.thumbnail\"\n                ><img :src=\"baseDomain + item.thumbnail.url\" alt=\"alt\"\n            /></nuxt-link>\n            <div class=\"ps-blog__badge\">\n                <span\n                    class=\"ps-badge__item\"\n                    v-for=\"val in item.post_categories\"\n                    :key=\"val.id\"\n                    >{{ val.name }}</span\n                >\n            </div>\n        </div>\n        <div class=\"ps-blog__content\">\n            <div class=\"ps-blog__meta\">\n                <span class=\"ps-blog__date\">{{ createdAt }}</span\n                ><a class=\"ps-blog__author\" href=\"#\">Alfredo Austin</a>\n            </div>\n            <nuxt-link class=\"ps-blog__title\" :to=\"`/blog/post-detail-1/${item.id}`\">{{\n                item.name\n            }}</nuxt-link>\n            <p class=\"ps-blog__desc\" v-if=\"item.short_description\">{{ item.short_description }}</p>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { baseUrl } from '~/repositories/Repository';\nimport Moment from \"moment\";\n\nexport default {\n    props: {\n        item: {\n            type: Object,\n            default: () => {}\n        }\n    },\n    data() {\n        return {\n            baseDomain: baseUrl\n        };\n    },\n    computed: {\n        createdAt() {\n            return Moment(this.item.created_at).format(\"MMM DD, YYYY\");\n        }\n    }\n};\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PostLatset.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PostLatset.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PostLatset.vue?vue&type=template&id=d6b0b504&\"\nimport script from \"./PostLatset.vue?vue&type=script&lang=js&\"\nexport * from \"./PostLatset.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  \"f04a82bc\"\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"ps-blog ps-blog--masonry\"},[_vm._ssrNode(\"<div class=\\\"container\\\">\",\"</div>\",[_c('breadcrumb',{attrs:{\"dataList\":_vm.breadcrumb}}),_vm._ssrNode(\" <h1 class=\\\"ps-blog__title\\\">Blog Masonry</h1> \"),_vm._ssrNode(\"<div class=\\\"ps-blog__content\\\">\",\"</div>\",[(_vm.loading)?_vm._ssrNode(\"<div class=\\\"row\\\">\",\"</div>\",_vm._l((3),function(item){return _vm._ssrNode(\"<div class=\\\"col-12 col-sm-6 col-md-4\\\">\",\"</div>\",[_c('v-skeleton-loader',{staticClass:\"mb-4\",attrs:{\"type\":\"image, article\"}})],1)}),0):_vm._ssrNode(\"<div class=\\\"row\\\">\",\"</div>\",_vm._l((_vm.blogs),function(item,index){return _vm._ssrNode(\"<div class=\\\"col-12 col-sm-6 col-md-4\\\">\",\"</div>\",[_c('post-latset',{attrs:{\"item\":item}})],1)}),0),_vm._ssrNode(\" <div class=\\\"ps-blog__button\\\"><a href=\\\"#\\\" class=\\\"ps-btn ps-btn--primary\\\">Load more</a></div>\")],2)],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"ps-blog ps-blog--masonry\">\n        <div class=\"container\">\n            <breadcrumb :dataList=\"breadcrumb\" />\n            <h1 class=\"ps-blog__title\">Blog Masonry</h1>\n            <div class=\"ps-blog__content\">\n                <div class=\"row\" v-if=\"loading\">\n                    <div class=\"col-12 col-sm-6 col-md-4\" v-for=\"item in 3\" :key=\"item\">\n                        <v-skeleton-loader\n                        type=\"image, article\"\n                        class=\"mb-4\"\n                        ></v-skeleton-loader>\n                    </div>\n                </div>\n                <div class=\"row\" v-else>\n                    <div class=\"col-12 col-sm-6 col-md-4\" v-for=\"(item, index) in blogs\" :key=\"index\">\n                        <post-latset :item=\"item\"/>\n                    </div>\n                </div>\n                <div class=\"ps-blog__button\"> <a class=\"ps-btn ps-btn--primary\" href=\"#\" @click.prevent=\"handleLoadMore()\">Load more</a></div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport Breadcrumb from '~/components/elements/commons/Breadcrumb';\nimport PostLatset from '~/components/elements/commons/PostLatset';\nimport { getPosts } from '~/repositories/PostRepository';\nimport { mapState } from 'vuex';\n\nexport default {\n    layout: 'default',\n    components: {\n        Breadcrumb,\n        PostLatset\n    },\n    data() {\n        return {\n            breadcrumb: [\n                {\n                    url: '/',\n                    text: 'Home'\n                },\n                {\n                    url: '/blog/masonry',\n                    extraClass: 'active',\n                    text: 'Blog Masonry'\n                }\n            ],\n            blogs: [],\n            meta: {\n                pageSize: 9,\n                pageIndex: 1\n            }\n        }\n    },\n    computed: {\n        ...mapState({\n            loading: state => state.app.loading\n        })\n    },\n    async mounted() {\n        this.$store.commit('app/setLoading', true);\n        this.getPostList();\n        this.$store.commit('app/setLoading', false);\n    },\n    methods: {\n        handleLoadMore() {\n            this.meta.pageIndex++;\n        },\n        async getPostList() {\n            const start = this.meta.pageSize * (this.meta.pageIndex - 1);\n            const params = {\n                _limit: this.meta.pageSize,\n                _start: start\n            }\n            this.blogs = await getPosts(params);\n        }\n    }\n}\n</script>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./masonry.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./masonry.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./masonry.vue?vue&type=template&id=5fa1c282&\"\nimport script from \"./masonry.vue?vue&type=script&lang=js&\"\nexport * from \"./masonry.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  \"7f63d608\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAIA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;AC3CA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;;;;;;;;;;AC2BA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjDA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;AClBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;;;;;;;;;;;;;;;;;;ACsBA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChFA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}